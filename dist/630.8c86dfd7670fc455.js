"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[630],{5630:(h,u,o)=>{o.r(u),o.d(u,{UsuariosComponent:()=>_});var a=o(95),d=o(627),g=o(8645),e=o(9468),p=o(1492),c=o(9392),m=o(870);let _=(()=>{class r{constructor(s,t,n){this.notify=s,this.AuthService=t,this.api=n,this.dtOptions={},this.dtTrigger=new g.x,this.user={name:"",email:"",password:""},this.message="",this.data=[],this.data1=[]}someClickHandler(s){this.message=s.id+" - "+s.name}ngAfterViewInit(){this.dtTrigger.next(this.dtOptions)}ngOnDestroy(){this.dtTrigger.unsubscribe()}rerender(){let s=this;this.dtElement.dtInstance.then(t=>{t.destroy(),s.dtOptions.data=this.data,this.dtTrigger.next(s.dtOptions),console.log(s.dtOptions)}),console.log(this.data)}ngOnInit(){this.dtOptions={data:this.data,columns:[{title:"ID",data:"id"},{title:"Nombre",data:"name"},{title:"Correo",data:"email"},{title:"Fecha creaci\xf3n",data:"created_at"}],rowCallback:(s,t,n)=>{const i=this;return $("td",s).off("click"),$("td",s).on("click",()=>{i.someClickHandler(t)}),s}},this.add()}crear(){if(""==this.user.name||""==this.user.email||""==this.user.password)this.notify.notifyError("Complete los datos");else{console.log(this.user);let t=this;this.AuthService.signup(this.user).subscribe({next(n){console.log(n),t.notify.notifySuccess("Usuario creado con \xe9xito"),t.reset()},error(n){console.log(n),t.notify.notifyError(n.error)}})}}reset(){this.user.name="",this.user.email="",this.user.password="",this.add()}add(){this.data=[];let s=this;this.api.getusers().subscribe({next(t){console.log(t),s.data=t,s.rerender()},error(t){console.log(t),s.notify.notifyError(t.error)}})}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(p.s),e.Y36(c.e),e.Y36(m.s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-usuarios"]],viewQuery:function(s,t){if(1&s&&e.Gf(d.G,5),2&s){let n;e.iGM(n=e.CRH())&&(t.dtElement=n.first)}},standalone:!0,features:[e.jDz],decls:36,vars:6,consts:[[1,"row"],[1,"row","justify-content-center"],[1,"col-xl-6","col-md-6"],[1,"card"],[1,"card-body"],[1,"text-danger"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[1,"auth-header"],[1,"text-secondary","mt-5"],[1,"fs-4","mt-2"],[1,"form-floating","mb-3"],["type","text","id","Empresa","value","Empresa ...",1,"form-control",3,"ngModel","ngModelChange"],["for","Empresa"],["type","email","id","email","value","email ...",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","text","id","password","value","Info ...",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],[1,"d-grid","mt-4"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",0)(6,"p",5),e._uU(7,"Has seleccionado: "),e.TgZ(8,"strong"),e._uU(9),e.qZA()(),e._UZ(10,"table",6),e.qZA()()()(),e.TgZ(11,"div",2)(12,"div",3)(13,"div",4)(14,"div",0)(15,"div",7)(16,"h2",8)(17,"b"),e._uU(18,"Crear usuarios"),e.qZA()(),e.TgZ(19,"p",9),e._uU(20,"Ingresa los datos"),e.qZA()(),e.TgZ(21,"div",10)(22,"input",11),e.NdJ("ngModelChange",function(i){return t.user.name=i}),e.qZA(),e.TgZ(23,"label",12),e._uU(24,"Nombre"),e.qZA()(),e.TgZ(25,"div",10)(26,"input",13),e.NdJ("ngModelChange",function(i){return t.user.email=i}),e.qZA(),e.TgZ(27,"label",14),e._uU(28,"Email"),e.qZA()(),e.TgZ(29,"div",10)(30,"input",15),e.NdJ("ngModelChange",function(i){return t.user.password=i}),e.qZA(),e.TgZ(31,"label",16),e._uU(32,"Contrase\xf1a"),e.qZA()(),e.TgZ(33,"div",17)(34,"button",18),e.NdJ("click",function(){return t.crear()}),e._uU(35,"Crear empresa"),e.qZA()()()()()()()()),2&s&&(e.xp6(9),e.Oqu(t.message),e.xp6(1),e.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),e.xp6(12),e.Q6J("ngModel",t.user.name),e.xp6(4),e.Q6J("ngModel",t.user.email),e.xp6(4),e.Q6J("ngModel",t.user.password))},dependencies:[d.T,d.G,a.u5,a.Fj,a.JJ,a.On]}),r})()}}]);